<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TUI Academy - Admin Panel</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
</head>
<body>
    <div class="page-container">
        <!-- Header -->
        <header class="header">
            <div class="container">
                <div class="header-content">
                    <div class="logo">
                        <h1>TUI Academy</h1>
                    </div>
                    <div class="user-info">
                        <span class="user-name" id="adminStatus">Admin Panel</span>
                        <button id="backToMainBtn" class="btn btn-secondary">Back to Main</button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="container">
            <!-- Course Management Section -->
            <div class="admin-section">
                <div class="admin-header">
                    <h2>Course Management</h2>
                    <div class="admin-actions">
                        <button id="addCourseBtn" class="btn btn-primary">Add Course</button>
                    </div>
                </div>
                
                <div id="adminCoursesList">
                    <!-- Courses will be loaded here -->
                </div>
            </div>

            <!-- Module Management Section -->
            <div id="moduleManagement" class="admin-section" style="display: none;">
                <div class="admin-header">
                    <h2>Module Management</h2>
                    <div class="admin-actions">
                        <button id="addModuleBtn" class="btn btn-primary">Add Module</button>
                    </div>
                </div>
                
                <div class="current-course">
                    <h3>Current Course: <span id="currentCourseName">Loading...</span></h3>
                </div>
                
                <div id="adminModulesList">
                    <!-- Modules will be loaded here -->
                </div>
            </div>
        </main>
    </div>

    <!-- Course Modal -->
    <div id="courseModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="courseModalTitle">Add Course</h3>
                <button id="closeCourseModal" class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="courseForm">
                    <div class="form-group">
                        <label for="courseName" class="form-label">Course Name</label>
                        <input type="text" id="courseName" class="form-input" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="courseDescription" class="form-label">Description</label>
                        <textarea id="courseDescription" class="form-textarea" rows="3"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="accessRole" class="form-label">Required Role ID</label>
                        <input type="text" id="accessRole" class="form-input" placeholder="Discord Role ID (optional)">
                        <small>Leave empty to allow all users access</small>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" id="cancelCourseBtn" class="btn btn-secondary">Cancel</button>
                        <button type="submit" class="btn btn-primary">Save Course</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Module Modal -->
    <div id="moduleModal" class="modal">
        <div class="modal-content large-modal">
            <div class="modal-header">
                <h3 id="moduleModalTitle">Add Module</h3>
                <button id="closeModuleModal" class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="moduleForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="moduleTitle" class="form-label">Module Title</label>
                            <input type="text" id="moduleTitle" class="form-input" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="passMark" class="form-label">Pass Mark (%)</label>
                            <input type="number" id="passMark" class="form-input" min="0" max="100" value="70" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="theoryHTML" class="form-label">Theory Content (HTML)</label>
                        <textarea id="theoryHTML" class="form-textarea" rows="10" placeholder="Enter rich HTML content including headings, lists, images, etc."></textarea>
                        <small>You can use HTML tags like &lt;h1&gt;, &lt;h2&gt;, &lt;p&gt;, &lt;ul&gt;, &lt;li&gt;, &lt;strong&gt;, &lt;em&gt;, &lt;img&gt;, etc.</small>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Quiz Questions</label>
                        <div id="questionsContainer">
                            <!-- Questions will be added here -->
                        </div>
                        <button type="button" id="addQuestionBtn" class="btn btn-secondary">Add Question</button>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" id="cancelModuleBtn" class="btn btn-secondary">Cancel</button>
                        <button type="submit" class="btn btn-primary">Save Module</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="admin.js"></script>
</body>
</html>
